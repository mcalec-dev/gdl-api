<!doctype html>
<html lang="en">
  <%- include('partials/head') %>
  <body class="bg-gray-950 min-h-screen flex items-center justify-center relative">
    <%- include('partials/announcements') %>
    <%- include('partials/navbar') %>
    <div id="container" class="mt-24 mb-24 md:w-auto md:max-w-[65%] sm:w-full rounded-xl shadow-2xl p-4 sm:p-8 md:p-8 mx-1 sm:mx-0 z-10 backdrop-blur-md border border-white/20">
      <h1 id="title" class="text-3xl font-light text-center text-white mb-6 sm:mb-8 capitalize">
        <%= currentPage %>
      </h1>
      <div id="loading" class="text-center text-gray-300">Loading...</div>
      <div id="error" class="error-message text-red-500 text-center mb-4" style="display:none"></div>
      <div id="dashboard-content" class="text-white space-y-4">
        <div id="overview" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">Overview & Analytics</h2>
          <ul class="list-disc ml-6">
            <li>Server Uptime: <span id="stat-uptime"></span></li>
            <li>Logged In Users: <span id="stat-loggedin"></span></li>
            <li>Top Tags: <span id="stat-toptags"></span></li>
            <li>Storage Usage: <span id="stat-storage"></span></li>
            <li>Flagged Items: <span id="stat-flags"></span></li>
          </ul>
        </div>
        <div id="user-management" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">User Management</h2>
          <div id="user-tools"></div>
        </div>
        <div id="tag-management" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">Tag Management</h2>
          <div id="tag-tools"></div>
        </div>
        <div id="dmca-takedown" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">DMCA / Takedown Requests</h2>
          <div id="dmca-tools"></div>
        </div>
        <div id="file-tools" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">File Tools</h2>
          <div id="file-tools-content"></div>
        </div>
        <div id="cache-tools" class="mb-8">
          <h2 class="text-2xl font-semibold mb-2">Cache Tools</h2>
          <div id="cache-tools-content"></div>
        </div>
        <div id="announcements" class="md:w-auto md:max-w-md sm:w-full">
          <h2 class="text-2xl font-semibold mb-2">Announcements</h2>
          <form id="announcement-form" class="flex flex-col gap-3 w-full items-center">
            <input type="text" id="announcement-title-input" class="w-full px-3 py-2 text-base backdrop-blur-lg bg-[#1f1f1f] text-white border border-white/20 rounded" placeholder="Enter title" />
            <textarea id="announcement-message-input" class="w-full px-3 py-2 text-base backdrop-blur-lg bg-[#1f1f1f] text-white border border-white/20 rounded" placeholder="Enter message" rows="3"></textarea>
            <div class="flex flex-row gap-3 w-full">
              <select id="announcement-severity-input" class="flex-1 px-3 py-2 bg-[#1f1f1f] text-white border border-white/20 rounded">
                <option value="info">Info</option>
                <option value="warning">Warning</option>
                <option value="error">Error</option>
              </select>
              <button type="submit" class="flex px-3 py-2 bg-blue-600 text-white rounded text-center select-none">Create</button>
            </div>
          </form>
          <ul id="announcement-list" class="list-disc space-y-2"></ul>
        </div>
      </div>
    </div>
    <script type="module" src="/js/min/admin.min.js" fetchPriority="high"></script>
    <%- include('partials/bg') %>
  </body>
</html>