
# example environment variables for the backend api

# imported with config.js
# values with brackets are json arrays

# set to 'production' in production
# else set to 'development' to see debugging info
NODE_ENV=production

# the port the api will run on
# will bind to all interfaces
PORT=3030

# name of the site
NAME=gdl-api

# the main hostname
HOST=example.com
# an alternate hostname
ALT_HOST=alt.example.com

# the base path that comes after the host
# leave blank if you dont want to use it
BASE_PATH=

# the path where your files are
BASE_DIR=/path/to/your/files/

# never show these dirs
DISALLOWED_DIRS=["config/","functions/","logs/","node_modules"]
# never show these files
DISALLOWED_FILES=[".env",".DS_STORE","Thumbs.db","desktop.ini"]
# never show files with these extensions
DISALLOWED_EXTENSIONS=["part","tmp","temp","log"]

# the url to your mongodb instance
# e.g mongodb://127.0.0.1:27017/<db_name>
MONGODB_URL=mongodb://localhost:27017/gdl

# secrets for sessions and jwt
SESSION_SECRET=changeme
JWT_SECRET=changeme

# session max cookie age
# in days, hours, minutes, etc
# ex. 30d, 30m, 12h, 1h
COOKIE_MAX_AGE=30d

# the max depth for recursive scanning
MAX_DEPTH=50

# max file upload size
# e.g 100MB, 1GB, etc
FILE_UPLOAD_LIMIT=100MB

# pagination limit for file listings
PAGINATION_LIMIT=1000

# rate limiting settings
# rate limit window duration
# ex. 1m, 5m, 1h, etc
RATE_LIMIT_WINDOW=1m
# max requests per window per ip
RATE_LIMIT_MAX=100

# trolling middleware settings
# ex. chance 0.001 = 0.01% chance
# more zeros = smaller chance
TROLLING_CHANCE=0.001
# terms that trigger trolling behavior
TROLLING_TERMS=['forbidden','restricted','classified']

# full database scan
# set to true to enable automatic full scan on server start
AUTO_SCAN=false

# how to update database entries when they are accessed
# options: 'false' - no updating
# 'dir' - update directory entries only
# 'file' - update file entries only
# 'true' - update both directory and file entries
UPSERT_ON_ACCESS=file

# hashing algorithm for file integrity checks
# options: 'md5', 'sha1', 'sha256', 'sha512'
HASH_ALGORITHM=sha256

# remove or add oauth providers
# supported: discord, github
OAUTH_PROVIDERS=["github","github"]

# image processing limits
# max total pixels (width / height)
MAX_PIXELS=10000

# max scale factor for upscaling
# in a percetage, ex. 200 means 200% or 2x upscaling
MAX_SCALE=1000

# max buffer size for image processing
# e.g 100MB, 1GB, etc
MAX_BUFFER_SIZE=100MB

# max search results to return for search queries
MAX_SEARCH_RESULTS=1000

# discord application credentials
# create an application at https://discord.com/developers/applications
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret

# github application credentials
# create an application at https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# debugging features
DEBUG=gdl-api:*